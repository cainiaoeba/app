"use strict";(self["webpackChunkapp"]=self["webpackChunkapp"]||[]).push([[326],{649:function(e,t,s){s.d(t,{Z:function(){return c}});var o=function(){var e=this,t=e._self._c;return t("div",[t("van-nav-bar",{attrs:{title:"标题","left-text":"返回","left-arrow":"",fixed:"",placeholder:""},on:{"click-left":function(t){return e.$router.back()}},scopedSlots:e._u([{key:"title",fn:function(){return[t("div",[e._t("title")],2)]},proxy:!0}],null,!0)})],1)},a=[],n={name:"NavBar",data(){return{}}},i=n,r=s(1001),l=(0,r.Z)(i,o,a,!1,null,"48cd60bc",null),c=l.exports},7326:function(e,t,s){s.r(t),s.d(t,{default:function(){return d}});var o=function(){var e=this,t=e._self._c;return t("div",{staticClass:"login-box"},[t("NavBar",{scopedSlots:e._u([{key:"title",fn:function(){return[t("div",[e._v(" "+e._s(0==e.isShowLogin?"登录":"注册")+" ")])]},proxy:!0}])}),t("img",{attrs:{src:s(6949),alt:""}}),t("van-form",{on:{submit:e.onSubmit}},[t("van-field",{attrs:{name:"loginName",label:"手机号",placeholder:"手机号"},model:{value:e.username,callback:function(t){e.username=t},expression:"username"}}),t("van-field",{attrs:{type:"password",name:"password",label:"密码",placeholder:"密码",autocomplete:""},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),t("van-field",{attrs:{name:"验证码",label:"验证码",placeholder:"验证码"},model:{value:e.QR,callback:function(t){e.QR=t},expression:"QR"}}),t("span",{on:{click:e.createCode}},[e._v(e._s(e.checkCode))]),t("div",{staticClass:"title",on:{click:e.ChangeStatus}},[e._v(e._s(e.isShowLogin?"已有账号？立即登录":"立即注册"))]),t("div",{staticStyle:{margin:"16px"}},[t("van-button",{attrs:{round:"",block:"",type:"info","native-type":"submit"}},[e._v(e._s(0==e.isShowLogin?"登录":"注册"))])],1)],1)],1)},a=[],n=(s(7658),s(649)),i=s(9547),r={name:"view-login",components:{NavBar:n.Z},data(){return{username:"",password:"",checkCode:"",QR:"",isShowLogin:!1,isQR:!1}},methods:{createCode(){let e="";const t=4,s=new Array(0,1,2,3,4,5,6,7,8,9,"A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z");for(let o=0;o<t;o++){let t=Math.floor(36*Math.random());e+=s[t]}this.checkCode=e},onSubmit(e){this.checkCode==this.QR.toUpperCase()?0==this.isShowLogin?(0,i.x4)(this.username,this.password).then((e=>{console.log(e),200===e.resultCode&&(localStorage.setItem("xftoken",e.data),localStorage.setItem("username",this.username),this.$toast("登录成功"),this.$router.push("/home"))})):1==this.isShowLogin&&(0,i.z2)(this.username,this.password).then((e=>{500===e.resultCode?(this.$toast("用户名已存在"),this.createCode()):200===e.resultCode&&(this.$toast("注册成功"),this.createCode())})):(this.$toast("验证码不正确"),this.createCode())},ChangeStatus(){this.isShowLogin=!this.isShowLogin}},created(){this.createCode()}},l=r,c=s(1001),u=(0,c.Z)(l,o,a,!1,null,"32347b84",null),d=u.exports},6949:function(e,t,s){e.exports=s.p+"img/logo.0fbc4c3c.png"}}]);
//# sourceMappingURL=326.ae530f24.js.map