"use strict";(self["webpackChunkapp"]=self["webpackChunkapp"]||[]).push([[907],{1907:function(e,t,s){s.r(t),s.d(t,{default:function(){return h}});var a=function(){var e=this,t=e._self._c;return t("div",{staticClass:"login-box"},[t("img",{attrs:{src:s(6949),alt:""}}),t("van-form",{on:{submit:e.onSubmit}},[t("van-field",{attrs:{name:"loginName",label:"手机号",placeholder:"手机号"},model:{value:e.username,callback:function(t){e.username=t},expression:"username"}}),t("van-field",{attrs:{type:"password",name:"password",label:"密码",placeholder:"密码"},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),t("van-field",{attrs:{name:"验证码",label:"验证码",placeholder:"验证码"},model:{value:e.QR,callback:function(t){e.QR=t},expression:"QR"}}),t("span",{on:{click:e.createCode}},[e._v(e._s(e.checkCode))]),t("div",{staticClass:"title",on:{click:e.ChangeStatus}},[e._v(e._s(e.isShowLogin?"已有账号？立即登录":"立即注册"))]),t("div",{staticStyle:{margin:"16px"}},[t("van-button",{attrs:{round:"",block:"",type:"info","native-type":"submit"}},[e._v(e._s(0==e.isShowLogin?"登录":"注册"))])],1)],1)],1)},o=[],i=(s(7658),s(5025)),n={name:"view-login",data(){return{username:"",password:"",checkCode:"",QR:"",isShowLogin:!1,isQR:!1}},methods:{createCode(){let e="";const t=4,s=new Array(0,1,2,3,4,5,6,7,8,9,"A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z");for(let a=0;a<t;a++){let t=Math.floor(36*Math.random());e+=s[t]}this.checkCode=e},onSubmit(e){this.checkCode==this.QR?0==this.isShowLogin?(0,i.x4)(this.username,this.password).then((e=>{200===e.resultCode&&(localStorage.setItem("xftoken",e.data),this.$toast("登录成功"),this.$router.push("/home"))})):1==this.isShowLogin&&(0,i.z2)(this.username,this.password).then((e=>{500===e.resultCode?(this.$toast("用户名已存在"),this.createCode()):200===e.resultCode&&(this.$toast("注册成功"),this.createCode())})):(this.$toast("验证码不正确"),this.createCode())},ChangeStatus(){this.isShowLogin=!this.isShowLogin}},created(){this.createCode()}},r=n,l=s(1001),c=(0,l.Z)(r,a,o,!1,null,"726e6f59",null),h=c.exports},6949:function(e,t,s){e.exports=s.p+"img/logo.0fbc4c3c.png"}}]);
//# sourceMappingURL=907.098d1c85.js.map