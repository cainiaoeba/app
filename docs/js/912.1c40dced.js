"use strict";(self["webpackChunkapp"]=self["webpackChunkapp"]||[]).push([[912],{649:function(t,e,o){o.d(e,{Z:function(){return c}});var s=function(){var t=this,e=t._self._c;return e("div",[e("van-nav-bar",{attrs:{title:"标题","left-text":"返回","left-arrow":"",fixed:"",placeholder:""},on:{"click-left":function(e){return t.$router.back()}},scopedSlots:t._u([{key:"title",fn:function(){return[e("div",[t._t("title")],2)]},proxy:!0}],null,!0)})],1)},a=[],n={name:"NavBar",data(){return{}}},i=n,r=o(1001),l=(0,r.Z)(i,s,a,!1,null,"48cd60bc",null),c=l.exports},2912:function(t,e,o){o.r(e),o.d(e,{default:function(){return d}});var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"login-box"},[e("NavBar",{scopedSlots:t._u([{key:"title",fn:function(){return[e("div",[t._v(" "+t._s(0==t.isShowLogin?"登录":"注册")+" ")])]},proxy:!0}])}),e("img",{attrs:{src:o(6949),alt:""}}),e("van-form",{on:{submit:t.onSubmit}},[e("van-field",{attrs:{name:"loginName",label:"手机号",placeholder:"手机号"},model:{value:t.username,callback:function(e){t.username=e},expression:"username"}}),e("van-field",{attrs:{type:"password",name:"password",label:"密码",placeholder:"密码",autocomplete:""},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),e("van-field",{attrs:{name:"验证码",label:"验证码",placeholder:"验证码"},model:{value:t.QR,callback:function(e){t.QR=e},expression:"QR"}}),e("span",{on:{click:t.createCode}},[t._v(t._s(t.checkCode))]),e("div",{staticClass:"title",on:{click:t.ChangeStatus}},[t._v(t._s(t.isShowLogin?"已有账号？立即登录":"立即注册"))]),e("div",{staticStyle:{margin:"16px"}},[e("van-button",{attrs:{round:"",block:"",type:"info","native-type":"submit"}},[t._v(t._s(0==t.isShowLogin?"登录":"注册"))])],1)],1)],1)},a=[],n=(o(7658),o(649)),i=o(9547),r={name:"view-login",components:{NavBar:n.Z},data(){return{username:"",password:"",checkCode:"",QR:"",isShowLogin:!1,isQR:!1}},methods:{createCode(){let t="";const e=4,o=new Array(0,1,2,3,4,5,6,7,8,9,"A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z");for(let s=0;s<e;s++){let e=Math.floor(36*Math.random());t+=o[e]}this.checkCode=t},onSubmit(t){this.checkCode==this.QR.toUpperCase()?0==this.isShowLogin?(0,i.x4)(this.username,this.password).then((t=>{console.log(t),200===t.resultCode&&(localStorage.setItem("xftoken",t.data),this.$toast("登录成功"),this.$router.push("/home"))})):1==this.isShowLogin&&(0,i.z2)(this.username,this.password).then((t=>{500===t.resultCode?(this.$toast("用户名已存在"),this.createCode()):200===t.resultCode&&(this.$toast("注册成功"),this.createCode())})):(this.$toast("验证码不正确"),this.createCode())},ChangeStatus(){this.isShowLogin=!this.isShowLogin}},created(){this.createCode()}},l=r,c=o(1001),u=(0,c.Z)(l,s,a,!1,null,"49305cda",null),d=u.exports},6949:function(t,e,o){t.exports=o.p+"img/logo.0fbc4c3c.png"}}]);
//# sourceMappingURL=912.1c40dced.js.map